<!DOCTYPE html>
<html>

<head>
  <!-- <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.4/css/bootstrap.min.css" rel="stylesheet" type="text/css" /> -->
  <link href="/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
  <link href="/assets/css/bootstrap-solarized-light.css" rel="stylesheet" type="text/css" />
  <link href="./gridder.css" rel="stylesheet" type="text/css" />
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.2/angular.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.2/angular-cookies.min.js"></script>
  <script src="http://hryanjones.com/js/ngStorage.min.js"></script>
  <script src="./gridder.js"></script>
  <meta charset="utf-8">
  <title>Ænigma #21</title>
</head>

<body ng-app="app" ng-controller="gridder" class="well">

  <h1>
    <a href="http://www.pavelspuzzles.com/adas/21/" target="_blank">
      Adalogical Ænigma #21
    </a>
    <!-- <small>
      (<a href="http://www.pavelspuzzles.com/adas/21/puzzle.pdf">PDF version</a>)
    </small>
    <small class="btn btn-warning"
           ng-click="clear();">
      Clear
    </small> -->
  </h1>
  <i class="glyphicon glyphicon-remove"></i>


  <div id="puzzle-container">

    <div ng-repeat="row in grid.nodes" ng-init="rowIndex = $index;">
      <div ng-repeat="node in row track by $index"
        class="node-container"
        ng-init="
          colIndex = $index;
          hasRightConnection = grid.connections.horizontal[rowIndex][colIndex];
          hasBelowConnection = grid.connections.vertical[rowIndex][colIndex];
        "
        >
        <div class="node"></div>

        <div class="connections"
          ng-class="{
            'right-none': !hasRightConnection,
            'below-none': !hasBelowConnection,
          }"
          >

          <!-- Connectionators are the elements that when clicked or dragged through they activate a given connection -->

          <div class="right connectionator" ng-if="hasRightConnection">
            <i class="unpossible glyphicon glyphicon-remove"></i>
          </div>

          <div class="below connectionator" ng-if="hasBelowConnection">
            <i class="unpossible glyphicon glyphicon-remove"></i>
          </div>
        </div>
      </div>

    </div>

  </div>

  <pre>{{grid|json}}</pre>

  <div class="legend row well">
    <div class="col-xs-2 col-md-2 h4 no-margin">Legend:</div>
    <div class="label label-default col-xs-2 col-md-2" title="Squares that *should Not* be filled are well marked with this marker">
      unfilled <div class="redDot legend-square"></div>
    </div>
    <div class="label label-default col-xs-2 col-md-2" title="Mark squares which should be filled with this">
      filled <div class="filled legend-square"></div>
    </div>
    <div class="label label-default col-xs-3 col-md-3" title="Indicator that 6 squares to the right must be filled">
      6 filled to right <div class="legend-square number right"></div>
    </div>
    <div class="label label-default col-xs-3 col-md-3" title="10 squares below this indicator must be filled">
      10 filled below <div class="legend-square number below"></div>
    </div>
  </div>

  <div>
    The puzzle above was created by <a href="http://www.pavelspuzzles.com/">Pavel Curtis</a> (all rights reserved) for <a href="http://www.seattletechnicalbooks.com/">Ada's Technical bookshop</a> in Seattle. This web version was created by <a href="https://twitter.com/hryanjones">@hryanjones</a>.
    <h3>Puzzle description (taken from PDF)</h3>
  </div>

</body>
</html>
